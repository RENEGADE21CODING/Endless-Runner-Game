<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platicker - Stickman Animation</title>
    <style>
        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #f0f0f0; }
        canvas { border: 1px solid #000; }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const spriteSheet = new Image();
        spriteSheet.src = 'path/to/your/spritesheet.png'; // Replace with your sprite sheet URL

        const spriteWidth = 50; // Width of a single sprite frame
        const spriteHeight = 100; // Height of a single sprite frame

        const stickmanAnimations = {
            idle: { frames: [0, 1, 2], speed: 100 },
            walk: { frames: [3, 4, 5, 6], speed: 100 },
            run: { frames: [7, 8, 9, 10], speed: 50 },
            jump: { frames: [11, 12], speed: 100 },
            fall: { frames: [13, 14], speed: 100 },
        };

        let currentAnimation = 'idle';
        let currentFrame = 0;
        let frameCount = 0;
        let playerX = canvas.width / 2 - spriteWidth / 2; // Initial player position
        let playerY = canvas.height - spriteHeight; // Start on the ground

        function update() {
            frameCount++;
            const animation = stickmanAnimations[currentAnimation];

            if (frameCount >= animation.speed) {
                currentFrame = (currentFrame + 1) % animation.frames.length;
                frameCount = 0;
            }

            // Add gravity and jumping logic here if needed
        }

        function draw() {
            const animation = stickmanAnimations[currentAnimation];
            const frameX = animation.frames[currentFrame] * spriteWidth;
            const frameY = 0; // Adjust based on your sprite sheet layout

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(spriteSheet, frameX, frameY, spriteWidth, spriteHeight, playerX, playerY, spriteWidth, spriteHeight);
        }

        document.addEventListener('keydown', (e) => {
            if (e.code === 'ArrowRight') {
                currentAnimation = 'run';
                playerX += 5; // Move right
            } else if (e.code === 'ArrowLeft') {
                currentAnimation = 'walk';
                playerX -= 5; // Move left
            } else if (e.code === 'Space') {
                currentAnimation = 'jump';
                // Add jump logic here
            }
        });

        document.addEventListener('keyup', (e) => {
            if (e.code === 'ArrowRight' || e.code === 'ArrowLeft') {
                currentAnimation = 'idle'; // Return to idle
            }
        });

        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        spriteSheet.onload = () => {
            gameLoop(); // Start the game loop once the sprite sheet is loaded
        };
    </script>
</body>
</html>
