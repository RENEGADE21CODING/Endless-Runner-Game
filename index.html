<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Platicker - A Platform Clicker Game</title>
  <link rel="icon" href="https://github.com/RENEGADE21CODING/Platicker-A_Platform_Clicker_Game/blob/main/CursorCoin.png?raw=true" type="image/png">
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      background-color: #f0f0f0; /* Light shade of gray */
      overflow: hidden;
    }
    .top-bar {
      width: 100%;
      height: 20vh;
      background-color: #b0c4de;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 1em;
      box-sizing: border-box;
    }
    .score {
      color: white;
      font-size: 2.5em;
    }
    .upgrades {
      display: flex;
      gap: 1em;
    }
    .upgrade-button {
      padding: 10px 20px;
      font-size: 1em;
      color: black;
      background-color: #d1ffd1;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      transition: transform 0.1s;
    }
    .upgrade-button:active {
      transform: scale(0.95);
    }
    .click-cash {
      width: 120px;
      height: auto;
      cursor: pointer;
      position: absolute;
      bottom: 20%;
      right: 2%;
    }
    .setting-button {
      width: 60px;
      height: 60px;
      cursor: pointer;
    }
    .game-bar {
      position: relative;
      width: 100%;
      height: 80vh;
      background-color: #f0f0f0;
      overflow: hidden;
    }
    .platform {
      position: absolute;
      width: 20%;
      height: 20px;
      background-color: #2b0001;
      left: 40%;
      top: 65%; /* Position below player spawn */
    }
    .player {
      position: absolute;
      width: 50px;
      height: 50px;
      background-image: url('https://github.com/RENEGADE21CODING/Platicker-A_Platform_Clicker_Game/blob/main/CursorCoin.png?raw=true');
      background-size: cover;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>

<div class="top-bar">
  <div class="score" id="scoreDisplay">Cash: $0.00</div>
  <div class="upgrades">
    <div>
      <button class="upgrade-button" id="upgradeClickButton">Buy More Cash Per Click (Cost: $10.00)</button>
      <div class="upgrade-info" id="clickInfo">Current Cash Per Click: $1.00</div>
    </div>
    <div>
      <button class="upgrade-button" id="upgradeAutomaticButton">Buy More Cash Per Second (Cost: $10.00)</button>
      <div class="upgrade-info" id="automaticInfo">Current Cash Per Second: $0.00</div>
    </div>
  </div>
  <img src="https://github.com/RENEGADE21CODING/Platicker-A_Platform_Clicker_Game/blob/main/JellySettingsButton.png?raw=true" class="setting-button" id="settingsButton">
</div>

<div class="game-bar" id="gameBar">
  <div class="platform" id="platform"></div>
  <div class="player" id="player"></div>
  <img src="https://github.com/RENEGADE21CODING/Platicker-A_Platform_Clicker_Game/blob/main/ClickCursorCash.png?raw=true" class="click-cash" id="clickCash">
</div>

<script>
  let cash = 0;
  let cashPerClick = 1.00;
  let cashPerSecond = 0;
  let upgradeClickCost = 10.00;
  let upgradeAutomaticCost = 10.00;

  const player = document.getElementById('player');
  const platform = document.getElementById('platform');
  const gameBar = document.getElementById('gameBar');

  let playerX = gameBar.offsetWidth / 2;
  let playerY = gameBar.offsetHeight * 0.5;
  let playerVelocityX = 0;
  let playerVelocityY = 0;
  const gravity = 0.5;
  const jumpStrength = 10;
  const speed = 5;
  let isJumping = false;

  document.addEventListener('keydown', (e) => {
    if (e.key === 'a' || e.key === 'ArrowLeft') {
      playerVelocityX = -speed;
    }
    if (e.key === 'd' || e.key === 'ArrowRight') {
      playerVelocityX = speed;
    }
    if ((e.key === 'w' || e.key === 'ArrowUp') && !isJumping) {
      playerVelocityY = -jumpStrength;
      isJumping = true;
    }
  });

  document.addEventListener('keyup', (e) => {
    if (e.key === 'a' || e.key === 'ArrowLeft' || e.key === 'd' || e.key === 'ArrowRight') {
      playerVelocityX = 0;
    }
  });

  function update() {
    playerVelocityY += gravity;
    playerX += playerVelocityX;
    playerY += playerVelocityY;

    // Collision detection with the platform
    const platformTop = platform.offsetTop;
    const platformBottom = platformTop + platform.offsetHeight;
    const platformLeft = platform.offsetLeft;
    const platformRight = platformLeft + platform.offsetWidth;
    const playerBottom = playerY + player.offsetHeight;

    if (playerBottom >= platformTop && playerX > platformLeft && playerX < platformRight) {
      playerY = platformTop - player.offsetHeight; // Place player on top of the platform
      playerVelocityY = 0;
      isJumping = false;
    }

    player.style.left = `${playerX}px`;
    player.style.top = `${playerY}px`;

    // Camera positioning (centered slightly above the player)
    const cameraX = Math.max(0, playerX - gameBar.offsetWidth / 2);
    const cameraY = Math.max(0, playerY - gameBar.offsetHeight / 2 + 50);
    gameBar.scrollLeft = cameraX;
    gameBar.scrollTop = cameraY;

    requestAnimationFrame(update);
  }

  update();
</script>

</body>
</html>
